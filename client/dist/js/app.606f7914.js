(function(e){function t(t){for(var r,i,o=t[0],u=t[1],c=t[2],l=0,d=[];l<o.length;l++)i=o[l],n[i]&&d.push(n[i][0]),n[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);h&&h(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6d923d55"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,r){a=n[e]=[t,r]});t.push(a[2]=r);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=i(e),s=function(t){u.onerror=u.onload=null,clearTimeout(c);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");i.type=r,i.request=s,a[1](i)}n[e]=void 0}};var c=setTimeout(function(){s({type:"timeout",target:u})},12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var h=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"21bb":function(e,t,a){"use strict";var r=a("bcc9"),n=a.n(r);n.a},"27b3":function(e,t,a){"use strict";var r=a("bdae"),n=a.n(r);n.a},"5c0b":function(e,t,a){"use strict";var r=a("5e27"),n=a.n(r);n.a},"5e27":function(e,t,a){},bcc9:function(e,t,a){},bdae:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r,n,s,i,o=a("2b0e"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],l=(a("5c0b"),a("2877")),h={},d=Object(l["a"])(h,u,c,!1,null,null,null),p=d.exports,m=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"display"},[a("div",{staticClass:"shadow"}),a("div",{staticClass:"home",style:e.gridTemplate},[a("div",{staticClass:"overlay"},[a("div",{staticClass:"lines",style:e.lineGridTemplate},e._l(e.lineHolder,function(e){return a("div",{staticClass:"line"})}),0),a("div",{staticClass:"corner top-left"}),a("div",{staticClass:"corner top-right"}),a("div",{staticClass:"corner bottom-left"}),a("div",{staticClass:"corner bottom-right"})]),e.gameOver?a("div",{staticClass:"game-over"},[a("div",{staticClass:"message"},[e._v("YOUR SCORE")]),a("span",[e._v(e._s(e.userScore))]),e._m(0)]):e._e(),e.gameOver||e.gameStarted?e._e():a("div",{staticClass:"game-over"},[a("div",{staticClass:"message",staticStyle:{"font-size":"50px"}},[e._v("Typetris")]),e._m(1)]),a("div",{staticClass:"game-bar"},[a("div",{staticClass:"user-input"},[a("span",{staticClass:"left"},[e._v(">")]),a("span",{staticClass:"input"},[e._v(e._s(e.userInput))]),a("span",{staticClass:"cursor"},[e._v("_")])]),a("div",{staticClass:"score"},[a("span",{staticClass:"label"},[e._v("Score:")]),a("span",{staticClass:"number"},[e._v(e._s(e.userScore))])])]),e._l(e.activeGameShapes,function(t){return e.gameStarted||e.isPaused||e.gameOver?a("Shape",{key:t.id,attrs:{"game-shape":t,"user-input":e.userInput,"game-status":e.gameStatus},on:{"shape-enter":function(){return e.setGameCoordinates(!0,t.worldCoords)}}}):e._e()}),e._l(e.staticGameShapes,function(t){return e.gameStarted||e.isPaused||e.gameOver?a("Shape",{key:t.id,attrs:{"game-shape":t,"user-input":e.userInput,"game-status":e.gameStatus}}):e._e()})],2)])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"sub-message"},[e._v("Press "),a("strong",[e._v("[ENTER]")]),e._v(" to play again")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"sub-message",staticStyle:{"margin-top":"40px"}},[e._v("Press "),a("strong",[e._v("[ENTER]")]),e._v(" to play")])}],v=(a("ac4d"),a("8a81"),a("456d"),a("75fc")),y=(a("6762"),a("2fdb"),a("ac6a"),a("d225")),b=a("b0b4"),w=a("308d"),S=a("6bb5"),k=a("4e2b"),C=a("9ab4"),O=a("60a3");(function(e){e["Right"]="ArrowRight",e["Left"]="ArrowLeft",e["Up"]="ArrowUp",e["Down"]="ArrowDown"})(r||(r={})),function(e){e["PreGame"]="PreGame",e["InProgress"]="InProgress",e["Finished"]="Finished",e["Paused"]="Paused",e["Waiting"]="Waiting"}(n||(n={})),function(e){e["Won"]="Won",e["Lost"]="Lost",e["Undecided"]="Undecided"}(s||(s={})),function(e){e[e["Slow"]=300]="Slow",e[e["Regular"]=150]="Regular",e[e["Fast"]=25]="Fast"}(i||(i={}));var G;(function(e){e["I"]="I",e["L"]="L",e["T"]="T",e["O"]="O",e["Z"]="Z"})(G||(G={}));var _=a("cebc"),j=function(){function e(){Object(y["a"])(this,e)}return Object(b["a"])(e,null,[{key:"appliedVector",value:function(e,t){var a=Object(_["a"])({},t);switch(e){case r.Up:a.y--;break;case r.Down:a.y++;break;case r.Left:a.x--;break;case r.Right:a.x++;break}return a}},{key:"validCoords",value:function(e,t,a){return e.x>=0&&e.x<t&&e.y>=0&&e.y<a}},{key:"shapeConstruct",value:function(e,t){var a=[],r=t.x,n=t.y;return e.forEach(function(e,t){e&&(t<3?a.push({x:r+t,y:n}):t>=3&&t<6?a.push({x:r+t-3,y:n+1}):a.push({x:r+t-6,y:n+2}))}),a}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}}]),e}(),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shape",class:{isSuper:e.isSuper},style:e.positionStyle},[e._l(e.type,function(t,r){return t?a("div",{staticClass:"coord",class:{animate:e.isSuper&&!e.gameIsOver},style:{gridArea:"s"+r,backgroundColor:e.shapeColor}}):e._e()}),a("span",{staticClass:"keyword",class:e.keywordClass},e._l(e.keywordArray,function(t,r){return a("span",{class:e.isLetterActive(t,r)},[e._v(e._s(t))])}),0)],2)},I=[],T=(a("28a5"),function(e){function t(){return Object(y["a"])(this,t),Object(w["a"])(this,Object(S["a"])(t).apply(this,arguments))}return Object(k["a"])(t,e),Object(b["a"])(t,[{key:"created",value:function(){this.$emit("shape-enter",this.gameShape.worldCoords)}},{key:"isLetterActive",value:function(e,t){return this.userInput.includes(this.keyword)&&this.userInput.length>this.keyword.length?"error":this.keyword.includes(this.userInput)&&this.userInput[t]===e?"active":void 0}},{key:"shapeStyle",value:function(e){switch(this.gameShape.shapeName){case"I":return[{gridArea:"s1",height:"300%"}]}return{gridArea:"s".concat(e)}}},{key:"id",get:function(){return this.gameShape.id}},{key:"type",get:function(){return this.gameShape.type}},{key:"coords",get:function(){return this.gameShape.position}},{key:"keyword",get:function(){return this.gameShape.keyword.toLowerCase()}},{key:"isSuper",get:function(){return this.gameShape.isSuper}},{key:"gameIsOver",get:function(){return this.gameStatus===n.Finished}},{key:"shapeColor",get:function(){return""}},{key:"positionStyle",get:function(){var e=this.coords,t=e.x,a=e.y;return{gridColumnStart:t+1,gridRowStart:a+1}}},{key:"keywordArray",get:function(){if(this.keyword)return this.keyword.split("")}},{key:"keywordClass",get:function(){switch(this.gameShape.shapeName){case"O":return"shape-O";case"T":return"top-3";default:return"center-3"}}}]),t}(O["c"]));C["a"]([Object(O["b"])()],T.prototype,"gameShape",void 0),C["a"]([Object(O["b"])()],T.prototype,"userInput",void 0),C["a"]([Object(O["b"])()],T.prototype,"gameStatus",void 0),T=C["a"]([O["a"]],T);var P=T,E=P,A=(a("27b3"),Object(l["a"])(E,x,I,!1,null,"67d60bc6",null)),L=A.exports,R={I:[!1,!0,!1,!1,!0,!1,!1,!0,!1],L:[!1,!0,!1,!1,!0,!1,!1,!0,!0],T:[!0,!0,!0,!1,!0,!1,!1,!0,!1],O:[!1,!1,!1,!0,!0,!1,!0,!0,!1],Z:[!0,!0,!1,!1,!0,!1,!1,!0,!0]},M=R,F=a("c64e"),D=a.n(F),U=["pilot","cow","mirror","our","skill","leaf","recent","hope","each","we","mouse","came","stiff","closer","flag","love","larger","hunter","catch","wing","lack","film","inside","dozen","eaten","sang","hair","member","two","oldest","orange","glass","rather","great","salmon","bite","bark","older","thank","game","earth","wrong","pie","give","crowd","allow","bee","object","work","giant","bend","drove","brief","sky","block","only","seeing","sang","we","gulf","wet","hour","decide","even","log","food","quiet","horn","spin","fifty","rhyme","ground","neck","meant","belt","hat","stand","higher","stream","enough","wheel","film","luck","weigh","nobody","team","drew","slept","port","hang","author","ever","force","near","free","ride","still","breath","ten","doctor","cotton","chair","dot","handle","mine","cook","should","he","indeed","case","whose","lovely","wall","also","unless","bent","dead","sugar","speech","sport","heat","cake","herd","upward","work","north","pale","person","record","sport","mill","sheet","trap","rear","bag","west","as","drawn","globe","thin","event","chair","sheet","top","return","make","level","hill","lake","more","open","honor","stared","ride","until","own","waste","away","cover","climb","leg","apple","pole","piece","shape","planet","caught","mean","far","into","made","having","toy","mighty","human","value","shop","chain","does","must","lose","silver","orbit","voice","down","enemy","till","again","sugar","tight","forth","single","rod","child","row","women","good","dollar","thus","hit","old","circle","wagon","shop","equal","fire","fear","alive","writer","coat","ruler","play","solar","garden","second","deeply","today","write","brown","many","fourth","seven","knife","supply","job","begun","belt","except","bush","coast","rope","pool","local","avoid","thou","minute","very","wet","gas","threw","star","huge","steel","church","table","buy","rest","egg","sure","muscle","action","tie","letter","art","matter","throw","buried","hat","very","school","clean","pair","other","indeed","fell","they","order","at","sport","thee","cage","high","in","led","series","as","twelve","thank","supper","reader","mark","hurt","amount","dig","dear","canal","hill","fed","same","smoke","bite","needed","moving","soft","tired","gulf","young","route","indeed","signal","mice","silk","pig","shade","farmer","where","course","fall","voyage","range","bow","extra","clock","harbor","like","load","form","supper","amount","radio","raw","never","count","them","calm","rhythm","base","small","cow","fox","crowd","bad","trade","north","will"],N=document.body,W=N.clientWidth,$=N.clientHeight,q=$/W;W>800&&(q=1.25);var z=20,H=Math.ceil(z*q),K=(i.Fast,60),V=1e3/K,Z=600,J=(new Date).getTime(),Y=(new Date).getTime(),B=0,Q=0,X=0,ee=function(e){function t(){var e;return Object(y["a"])(this,t),e=Object(w["a"])(this,Object(S["a"])(t).apply(this,arguments)),e.lineHolder=[],e.activeGameShapes=[],e.staticGameShapes=[],e.gameCoordinates=[],e.letterShapeMap={I:[],T:[],O:[],L:[],Z:[]},e.userInput="",e.userScore=0,e.gameFinish=!1,e.gameStatus=n.Waiting,e.gameResult=s.Undecided,e}return Object(k["a"])(t,e),Object(b["a"])(t,[{key:"created",value:function(){for(var e=0;e<3*H;e++)this.lineHolder.push(e);this.resetGameCoordinates(),this.initializeKeyListeners()}},{key:"mounted",value:function(){this.update()}},{key:"startGame",value:function(){this.resetGame()}},{key:"update",value:function(){var e=this;requestAnimationFrame(this.update.bind(this)),Q=(new Date).getTime(),X=Q-J;var t=Q-Y;X>V&&(this.isPaused||this.gameFinish||!this.gameStarted||(t>Z&&(this.generateGameShape(),Y=Q-t%Z),this.activeGameShapes.forEach(function(t){if(!e.moveShape(t,r.Down)){if(t.position.y<=0)return e.endGame();e.activeGameShapes=e.activeGameShapes.filter(function(a){return a.id===t.id&&e.staticGameShapes.push(a),a.id!==t.id})}})),J=Q-X%V)}},{key:"moveShape",value:function(e,t){return!this.isColliding(e,t)&&(e.position=j.appliedVector(t,e.position),this.updateGameShapePosition(e,t),!0)}},{key:"endGame",value:function(){B=(new Date).getTime(),this.gameFinish=!0,console.log("YOU LOST :("),this.gameResult=s.Lost,this.gameStatus=n.Finished}},{key:"initializeKeyListeners",value:function(){var e=this;window.addEventListener("keydown",function(t){if(e.gameOver||!e.gameOver&&!e.gameStarted){if(13===t.keyCode&&Q-B>1e3)return e.resetGame()}else if(t.keyCode>=65&&t.keyCode<=90&&(e.userInput+=t.key.toLowerCase()),8===t.keyCode&&(e.userInput=e.userInput.substring(0,e.userInput.length-1)),13===t.keyCode){var a=e.userInput;e.userInput="",U.includes(a)&&e.shapesWithKeyword(a).forEach(function(t){t.isSuper?(e.userScore+=50*e.letterShapeMap[t.shapeName].length,e.clearShapeType(t.shapeName)):(e.destroyGameShape(t),e.userScore+=25)})}})}},{key:"shapesWithKeyword",value:function(e){var t=this.staticGameShapes.filter(function(t){return t.keyword===e}),a=this.activeGameShapes.filter(function(t){return t.keyword===e});return[].concat(Object(v["a"])(t),Object(v["a"])(a))}},{key:"clearShapeType",value:function(e){var t=this;this.letterShapeMap[e].forEach(function(e){t.destroyGameShape(e,!0)}),this.letterShapeMap[e]=[]}},{key:"destroyGameShape",value:function(e,t){var a=this;if(!t){var r=this.letterShapeMap[e.shapeName].indexOf(e);this.letterShapeMap[e.shapeName].splice(r,1)}this.staticGameShapes=this.staticGameShapes.filter(function(t){return t.id===e.id&&a.setGameCoordinates(!1,t.worldCoords),t.id!==e.id}),this.activeGameShapes=this.activeGameShapes.filter(function(t){return t.id===e.id&&a.setGameCoordinates(!1,t.worldCoords),t.id!==e.id}),this.makeStaticShapesActive()}},{key:"makeStaticShapesActive",value:function(){this.activeGameShapes=[].concat(Object(v["a"])(this.activeGameShapes),Object(v["a"])(this.staticGameShapes)),this.staticGameShapes=[]}},{key:"generateGameShape",value:function(){var e=!1,t=.015;this.gameCoordinates.forEach(function(e){e[8]&&(t=.05)}),Math.random()<=t&&(e=!0);var a=j.getRandomInt(Object.keys(M).length),r=Object.keys(M)[a],n={x:j.getRandomInt(z-3),y:0},s={id:D()(),type:M[r],shapeName:r,position:n,keyword:U[j.getRandomInt(U.length)],worldCoords:j.shapeConstruct(M[r],n),isSuper:e};this.letterShapeMap[r].push(s),this.activeGameShapes.push(s)}},{key:"updateGameShapePosition",value:function(e,t){var a=this,r=[];e.worldCoords.forEach(function(e){var n=e.x,s=e.y;a.setGameCoordinate(!1,{x:n,y:s}),r.push(j.appliedVector(t,{x:n,y:s}))}),this.setGameCoordinates(!0,r),e.worldCoords=r}},{key:"isColliding",value:function(e,t){var a=!0,r=!1,n=void 0;try{for(var s,i=e.worldCoords[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value,u=j.appliedVector(t,o);if(!j.validCoords(u,z,H))return!0;if(!this.coordsAreEmpty(u)&&!this.coordsAreActiveShape(e,u))return!0}}catch(c){r=!0,n=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return!1}},{key:"resetGameCoordinates",value:function(){for(var e=[],t=0;t<z;t++){for(var a=[],r=0;r<H;r++)a.push(!1);e.push(a)}this.gameCoordinates=e}},{key:"setGameCoordinates",value:function(e,t){var a=this;t&&t.forEach(function(t){var r=t.x,n=t.y;a.gameCoordinates[r][n]=e})}},{key:"setGameCoordinate",value:function(e,t){this.gameCoordinates[t.x][t.y]=e}},{key:"resetGame",value:function(){this.userScore=0,this.userInput="",this.activeGameShapes=[],this.staticGameShapes=[],this.resetGameCoordinates(),J=(new Date).getTime(),Y=(new Date).getTime(),Q=0,this.gameFinish=!1,this.gameResult=s.Undecided,this.gameStatus=n.InProgress,this.$forceUpdate()}},{key:"coordsAreActiveShape",value:function(e,t){return e.worldCoords.some(function(e){return e.x===t.x&&e.y===t.y})}},{key:"coordsAreEmpty",value:function(e){return!this.gameCoordinates[e.x][e.y]}},{key:"gameLost",get:function(){return this.gameResult===s.Lost}},{key:"gameStarted",get:function(){return this.gameStatus===n.InProgress}},{key:"gameOver",get:function(){return this.gameStatus===n.Finished}},{key:"isPaused",get:function(){return this.gameStatus===n.Paused}},{key:"gridTemplate",get:function(){return{gridTemplateColumns:"repeat(".concat(z,", 1fr)"),gridTemplateRows:"repeat(".concat(H,", 1fr)")}}},{key:"lineGridTemplate",get:function(){return{gridTemplateColumns:"1fr",gridTemplateRows:"repeat(".concat(3*H,", 1fr)")}}}]),t}(O["c"]);ee=C["a"]([Object(O["a"])({components:{Shape:L}})],ee);var te=ee,ae=te,re=(a("21bb"),Object(l["a"])(ae,f,g,!1,null,null,null)),ne=re.exports;o["a"].use(m["a"]);var se=new m["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ne},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),ie=a("2f62");o["a"].use(ie["a"]);var oe=new ie["a"].Store({state:{},mutations:{},actions:{}});o["a"].config.productionTip=!1,new o["a"]({router:se,store:oe,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=app.606f7914.js.map